1. Encryption

The Lua files can be encrypted using the 256 bit variant of the AES encryption algorithm.

The AES key is file name dependent, and is built using eight constants and eight prime numbers 
defined in "encryption_data.h".

#define ENCRYPTION_KEY_0 0x01234567
#define ENCRYPTION_KEY_1 0x01234567
#define ENCRYPTION_KEY_2 0x01234567
#define ENCRYPTION_KEY_3 0x01234567
#define ENCRYPTION_KEY_4 0x01234567
#define ENCRYPTION_KEY_5 0x01234567
#define ENCRYPTION_KEY_6 0x01234567
#define ENCRYPTION_KEY_7 0x01234567
#define ENCRYPTION_PRIME_0 0x01234567
#define ENCRYPTION_PRIME_1 0x01234567
#define ENCRYPTION_PRIME_2 0x01234567
#define ENCRYPTION_PRIME_3 0x01234567
#define ENCRYPTION_PRIME_4 0x01234567
#define ENCRYPTION_PRIME_5 0x01234567
#define ENCRYPTION_PRIME_6 0x01234567
#define ENCRYPTION_PRIME_7 0x01234567

Of course, the above values must be changed, if needed on a customer basis, and the version
of "encryption_data.h" which contains the actual constants and prime numbers used for encryption 
must absolutely be kept secret, and thus should NEVER be put on a Github repository.

Be aware that when the keys in this file are changed, the encryption tool, the game client and 
the game server must ALL be rebuilt so that they use the same keys.


2. Encryption tool

Lua files can be encrypted/decrypted using the "crypt" tool of the "adel/util/" folder.

The "-e" option is used to encrypt the files, and the "-d" option to decrypt them.

Only files which aren't already encrypted/decrypted are processed.

Files can be encrypted/decrypted manually, by providing their paths as additional arguments :
	crypt -e *.lua
	crypt -d *.lua

The recommended way to use the tool is to create a "CryptList.txt" file in the current folder
and call the tool without arguments :

	crypt -e
	crypt -d

This file will contain the path of all the Lua file to encrypt or decrypt.

The "CryptList.txt" file can be generated automatically using the following Linux command :

	find . -iregex ".+lua" > CryptList.txt

This command will create a "CryptList.txt" file with the paths of the Lua files of this folder 
and its subfolder.


3. Usage

While the files can be encrypted/decrypted in place in the development folder, 
an easier and safer approach would be to copy the development mods in a temporary folder 
and encrypt them there before their deployment.
